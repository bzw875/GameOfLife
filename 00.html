<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Document</title>
<style type="text/css">
table {
        border-collapse: collapse;
}
td {
    padding: 2px;
    border: 1px solid #ddd;
}
.life {
    background-color: #000;
}
</style>
</head>
<body>
<script type="text/javascript" src="CellLife.js"></script>
<script type="text/javascript">

window.onload = function(){
    var table = document.getElementById('box');
    var td = new Array(101).join( '<tr>'+(new Array(101)).join('<td></td>')+'</tr>' );
    table.innerHTML = td;
    var theCell = new CellLife(2000);

    var tds = box.querySelectorAll('td');
    var trs = box.querySelectorAll('tr');
    
    var timer = setInterval(function() {
        theCell.tick(function(life){
            
            tds.forEach(function(ele, i){
                ele.className = '';
            });
            
            for (var i = 0, len = life.length; i < len; i++) {
                var cell = life[i];
                trs[cell.y].children[cell.x].className = 'life';
            }
            if (life.length === 0) {
                clearInterval(timer);
            }
            
        });
        
    }, 300);
};
</script>
<table>
    <tbody id="box"></tbody>
</table>
</body>
</html>